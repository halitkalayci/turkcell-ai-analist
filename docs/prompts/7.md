User: We have a runtime error.
When i try to execute a request from swagger.

Constraints:
- Do NOT add new dependencies
- Do NOT refactor unrelated code
- Minimal diff only

Task:

1) Identify root cause from the FIRST runtime error.
2) Propose the smallest fix
3) Provide the corrected code for the affected file only

I think problem is swagger is adding another `/api/v1` prefix.

Here is the request:
curl -X 'POST' \
  'http://localhost:8080/api/v1/api/v1/products' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "name": "iPhone 15 Pro",
  "price": 45999.99,
  "currency": "₺"
}'

Here is the response:
{
  "timestamp": "2026-02-05T13:52:11.027846500+03:00[Europe/Istanbul]",
  "status": 500,
  "error": "Internal Server Error",
  "message": "Beklenmeyen bir hata oluştu",
  "path": "/api/v1/api/v1/products"
}




GitHub Copilot: I'll identify the root cause of the duplicate `/api/v1` prefix issue. Let me check the relevant configuration files. 

Read [](file:///c%3A/Users/PC1/Desktop/Turkcell-ai/backend/product-service/src/main/java/com/turkcell/productservice/controller/ProductController.java#1-1), lines 1 to 50

Read [](file:///c%3A/Users/PC1/Desktop/Turkcell-ai/backend/product-service/src/main/java/com/turkcell/productservice/config/OpenApiConfig.java)

Read [](file:///c%3A/Users/PC1/Desktop/Turkcell-ai/backend/product-service/src/main/resources/application.yml)

## ROOT CAUSE

The problem is in OpenApiConfig.java where the server URL is set to `http://localhost:8080/api/v1`, while the controller already has `@RequestMapping("/api/v1/products")` at ProductController.java.

This causes Swagger to generate URLs like: `{serverUrl} + {controllerMapping}` = `http://localhost:8080/api/v1` + `/api/v1/products` = `http://localhost:8080/api/v1/api/v1/products`

## PROPOSED FIX

Remove the `/api/v1` prefix from the server URL in OpenApiConfig. The server URL should be just `http://localhost:8080`.

## CORRECTED CODE

OpenApiConfig.java:

```java
package com.turkcell.productservice.config;

import io.swagger.v3.oas.models.OpenAPI;
import io.swagger.v3.oas.models.info.Info;
import io.swagger.v3.oas.models.servers.Server;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.util.List;

@Configuration
public class OpenApiConfig {

    @Bean
    public OpenAPI productServiceOpenAPI() {
        return new OpenAPI()
                .info(new Info()
                        .title("Product API")
                        .description("Product API sözleşmeleri bulunduran yml dosyası.\n\n" +
                                "Bu dosyadaki kalıplar product-service içerisinde kullanılmak zorundadır.\n" +
                                "Bu kalıpların dışına çıkılamaz.")
                        .version("1.0.0"))
                .servers(List.of(
                        new Server().url("http://localhost:8080").description("Development Server"),
                        new Server().url("https://api.turkcell.com.tr").description("Production Server")
                ));
    }

}
```

**Onayınızı bekliyorum.**